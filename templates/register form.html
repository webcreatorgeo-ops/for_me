<!DOCTYPE html>
<html lang="ka">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>რეგისტრაცია | #33-ე საჯარო სკოლა</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" />
  <script src="https://www.google.com/recaptcha/api.js" async defer></script>
  <style>
    body {
      background: linear-gradient(to right, #e8f5e9, #ffffff);
      font-family: 'Segoe UI', sans-serif;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }

    .container-box {
      display: flex;
      width: 100%;
      max-width: 900px;
      height: 600px;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
      border-radius: 0px;
      overflow: hidden;
      background-color: #fff;
    }

    .form-side {
      flex: 1;
      padding: 40px 30px;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }

    .image-side {
      flex: 1;
      background: #c8e6c9;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .image-side img {
      max-width: 100%;
      max-height: 90%;
      object-fit: contain;
    }

    .registration-form h2 {
      font-weight: 700;
      margin-bottom: 30px;
      color: #2e7d32;
      text-align: center;
    }

    .form-control:focus {
      border-color: #66bb6a;
      box-shadow: 0 0 8px rgba(102, 187, 106, 0.4);
    }

    label {
      font-weight: 600;
      color: #2e7d32;
    }

    .btn-primary {
      background-color: #43a047;
      border-color: #43a047;
      font-weight: 600;
      border-radius: 40px;
      padding: 10px 30px;
    }

    .btn-primary:hover {
      background-color: #388e3c;
      border-color: #388e3c;
    }

    .alert {
      font-size: 14px;
    }

    @media (max-width: 768px) {
      .container-box {
        flex-direction: column;
        height: auto;
      }

      .image-side {
        display: none;
      }

      .form-side {
        padding: 20px;
      }
    }
  </style>
</head>
<body>

  <div class="container-box">
    <!-- მარცხენა ნაწილი - ლოგო -->
    <div class="image-side">
      <img src="{{ url_for('static', filename='logo.jpg') }}" alt="logo">
    </div>

    <!-- მარჯვენა ნაწილი - ფორმა -->
    <div class="form-side">
      <form method="POST" class="registration-form row g-3">
        <h2>რეგისტრაცია</h2>

        {% with messages = get_flashed_messages(with_categories=true) %}
          {% if messages %}
            {% for category, message in messages %}
              <div class="alert alert-{{ category }} w-100 text-center" role="alert">
                {{ message }}
              </div>
            {% endfor %}
          {% endif %}
        {% endwith %}

        <div class="col-md-6">
          <label for="name" class="form-label">სახელი</label>
          <input type="text" class="form-control" id="name" name="name" required>
        </div>

        <div class="col-md-6">
          <label for="surname" class="form-label">გვარი</label>
          <input type="text" class="form-control" id="surname" name="surname" required>
        </div>

        <div class="col-md-6">
          <label for="email" class="form-label">ელფოსტა</label>
          <input type="email" class="form-control" id="email" name="email" required>
        </div>

        <div class="col-md-6">
          <label for="city" class="form-label">ქალაქი</label>
          <input type="text" class="form-control" id="city" name="city" required>
        </div>

        <div class="col-md-6">
          <label for="state" class="form-label">რაიონი/რეგიონი</label>
          <select id="state" class="form-select" name="state" required>
            <option selected disabled>აირჩიეთ...</option>
            <option>იმერეთი</option>
            <option>კახეთი</option>
            <option>სამეგრელო</option>
            <option>აფხაზეთი</option>
            <option>გურია</option>
            <option>სვანეთი</option>
            <option>რაჭა</option>
            <option>აჭარა</option>
            <option>შიდა ქართლი</option>
            <option>ქვემო ქართლი</option>
            <option>სამცხე-ჯავახეთი</option>
          </select>
        </div>

        <div class="col-md-6">
          <label for="zip" class="form-label">ZIP კოდი</label>
          <input type="text" class="form-control" id="zip" name="zip">
        </div>

        <div class="col-md-6">
          <label for="password" class="form-label">პაროლი</label>
          <input type="password" class="form-control" id="password" name="password" required>
        </div>

        <div class="col-md-6">
          <label for="confirm_password" class="form-label">გაიმეორეთ პაროლი</label>
          <input type="password" class="form-control" id="confirm_password" name="confirm_password" required>
        </div>

        <!-- ✅ reCAPTCHA ველი
        <div class="col-12 text-center">
          <div class="g-recaptcha d-inline-block" data-sitekey="6LdTxpYrAAAAABlJRBpzeLIiJts84lj4T6xxiRgl"></div>
        </div>
          -->
        <div class="col-12 text-center mt-3">
          <button type="submit" class="btn btn-primary">რეგისტრაცია</button>
          <a href="/" class="btn btn-primary ms-2">მთავარ გვერდზე</a>

      </form>
    </div>
  </div>

  <!-- შეტყობინების გაქრობა ავტომატურად -->
  <script>
    setTimeout(() => {
      document.querySelectorAll('.alert').forEach(el => el.remove());
    }, 5000);
  </script>
</body>
</html>
